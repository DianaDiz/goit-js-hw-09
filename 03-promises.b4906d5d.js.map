{"mappings":"YAGA,SAASA,EAAcC,EAAUC,GAE/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,IAAM,CAACR,WAAUC,SACjBQ,YAAW,WACLJ,EACFF,EAAQK,KAERJ,EAAOI,I,GAERE,W,IAbSC,SAASC,cAAc,SAmB/BC,iBAAiB,UAAU,SAAAC,G,kBAa/BL,YAAW,WACTM,QAAQC,IAAIhB,EAAUU,EAAYO,EAAWC,GAC7CT,YAAW,WACTV,EAAcC,EAAUU,EAAaO,EAAYjB,GAC9CmB,MAAK,SAAAC,G,OAAOC,UAAUD,EAAIpB,SAAUoB,EAAInB,M,IACxCqB,OAAM,SAAAC,G,OAASC,SAASD,EAAMvB,SAAUuB,EAAMtB,M,MAChDS,E,GACFO,E,EAnBLH,EAAMW,iBACNV,QAAQC,IAAIF,GACZ,IAEuBY,EAAnBZ,EAAMa,cADRC,SAAY3B,EAAKyB,EAALzB,MAAO4B,EAAIH,EAAJG,KAAMC,EAAMJ,EAANI,OAGrBpB,EAAaqB,OAAO9B,EAAM+B,OAC1Bf,EAAYc,OAAOF,EAAKG,OACxBd,EAAca,OAAOD,EAAOE,OAClCjB,QAAQC,IAAIN,EAAYO,EAAWC,GAEnC,IAAK,IAAIe,EAAW,EAAGA,GAAYf,EAAae,GAAY,EAACC,EAAAD,E","sources":["src/js/03-promises.js"],"sourcesContent":["\nconst formRef = document.querySelector('.form');\n// console.log(formRef);\nfunction createPromise(position, delay) {\n  \n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    obj = {position, delay};\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve(obj);\n      } else {\n        reject(obj);\n      }\n    }, delayValue);\n    \n  })\n  \n}\n\nformRef.addEventListener('submit', event => {\n  event.preventDefault();\n  console.log(event);\n  const {\n    elements: { delay, step, amount },\n  } = event.currentTarget;\n\n  const delayValue = Number(delay.value);\n  const stepValue = Number(step.value);\n  const amountValue = Number(amount.value);\n  console.log(delayValue, stepValue, amountValue);\n\n  for (let position = 1; position <= amountValue; position += 1) {\n    setTimeout(() => {\n      console.log(position, delayValue, stepValue, amountValue);\n      setTimeout(() => {\n        createPromise(position, delayValue + stepValue * position)\n          .then(res => onSuccess(res.position, res.delay))\n          .catch(error => onReject(error.position, error.delay));\n      }, delayValue);\n    }, stepValue);\n  }\n});\n//--------------------------------------------------------------\n\n// createPromise(position, delayValue + stepValue * position)\n//   .then(({ position, delay }) => {\n//     console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n//   })\n//   .catch(({ position, delay }) => {\n//     console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n//   });\n\n\n\n\n\n\n\n\n//``````````````````````\n\n\n// function createPromise(position, delay) {\n  \n//   return new Promise((resolve, reject) => {\n//     const shouldResolve = Math.random() > 0.3;\n//     obj = {position, delay};\n//     setTimeout(() => {\n//       if (shouldResolve) {\n//         resolve(obj);\n//       } else {\n//         reject(obj);\n//       }\n//     }, delay);\n    \n//   })\n  \n// }\n\n\n// formRef.addEventListener('submit', event => {\n//   event.рreventDefault();\n//   const {\n//     elements: { delay, step, amount },\n//   } = event.currentTarget;\n//   const delayValue = Number(delay.value);\n//   const stepValue = Number(step.value);\n//   const amountValue = Number(amount.value);\n//   console.log(delayValue, stepValue, amountValue);\n\n//   for (let position = 1; position <= amountValue; position += 1) {\n//     setTimeout(() => {\n//       console.log(position, delayValue, stepValue, amountValue);\n//       setTimeout(() => {\n//         createPromise(position, delayValue + stepValue * position)\n//           .then(res => onSuccess(res.position, res.delay))\n//           .catch(error => onReject(error.position, error.delay));\n//       }, delayValue);\n//     }, stepValue)\n//   }\n// })\n"],"names":["$ce04d3a99e08e73b$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","obj","setTimeout","delayValue","document","querySelector","addEventListener","event","console","log","stepValue","amountValue","then","res","onSuccess","catch","error","onReject","preventDefault","_elements","currentTarget","elements","step","amount","Number","value","position1","_loop"],"version":3,"file":"03-promises.b4906d5d.js.map"}